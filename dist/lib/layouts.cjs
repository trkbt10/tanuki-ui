"use strict";var J=e=>{throw TypeError(e)};var ge=(e,t,s)=>t.has(e)||J("Cannot "+s);var $=(e,t,s)=>(ge(e,t,"read from private field"),s?s.call(e):t.get(e)),k=(e,t,s)=>t.has(e)?J("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("react/jsx-runtime"),a=require("react"),se=require("./vendor/useMeasure-C21c-kl-.js");function Ee(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>e[s]})}}return t.default=e,Object.freeze(t)}const p=Ee(a);var ze=typeof window<"u",We=ze?a.useLayoutEffect:a.useEffect;const $e="lytbase",Ie={base:$e},ne=e=>d.jsx("div",{className:Ie.base,children:e.children});ne.displayName="ScrollView";const Xe=(e,t)=>{const[s,r]=a.useState(t);return a.useEffect(()=>{if(!e||typeof window>"u")return;const n=window.localStorage.getItem(e);if(n){const o=Number(n);isNaN(o)||r(Math.min(Math.max(o,120),480))}},[e]),a.useEffect(()=>{!e||typeof window>"u"||window.localStorage.setItem(e,String(s))},[s,e]),[s,r]},Oe=(e,t,s)=>{const r=a.useRef(null),n=a.useRef(null),o=a.useRef(null),i=e.asideId?`SidebarLayout:width:${e.asideId}`:void 0,[c,l]=Xe(i,240),v=a.useRef(!1),R=a.useRef(null),[b,y]=a.useState(!1),[u,h]=a.useState(0),[m,j]=a.useState(e.defaultMobileView),x=a.useRef(null),V=t!==void 0,f=V?t:m,C=a.useCallback(M=>{V||j(M),s==null||s(M)},[V,s]);a.useEffect(()=>{const M=()=>{const N=window.innerWidth;y(N<e.mobileBreakpoint),e.mobileSidebarMode==="overlay"?h(Math.min(e.mobileOverlayMaxWidth,N)):h(N)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[e.mobileBreakpoint,e.mobileSidebarMode,e.mobileOverlayMaxWidth]);const w=a.useCallback(M=>{var N;if(M.type==="pointerdown")v.current=!0,R.current=((N=document.querySelector("[data-sidebar-base]"))==null?void 0:N.getBoundingClientRect())??null;else if(M.type==="pointermove"&&v.current&&R.current){const E=Math.min(Math.max(M.pageX-R.current.left,e.minAsideWidth),e.maxAsideWidth);l(E)}else M.type==="pointerend"&&(v.current=!1,R.current=null)},[e.minAsideWidth,e.maxAsideWidth]);se.useObservePointer(r,w);const g=a.useCallback(M=>{var E;if(!b)return;const N=M.touches[0];if(M.type==="touchstart")x.current={startX:N.clientX,startY:N.clientY,currentX:N.clientX,isDragging:!1,direction:null};else if(M.type==="touchmove"&&x.current){const S=N.clientX-x.current.startX,O=N.clientY-x.current.startY;if(x.current.currentX=N.clientX,!x.current.direction&&(Math.abs(S)>8||Math.abs(O)>8)&&(x.current.direction=Math.abs(S)>Math.abs(O)?"horizontal":"vertical",x.current.direction==="horizontal"&&(x.current.isDragging=!0)),x.current.direction==="horizontal"&&x.current.isDragging&&o.current)if(M.preventDefault(),e.mobileSidebarMode==="overlay"){const z=o.current.querySelector('[data-sidebar="aside"]');if(z){let I=f==="aside"?S:-u+S;(f==="aside"&&S<0||f==="main"&&S>0)&&(f==="main"&&S<u?I=-u+S:I=S*.25),z.style.transform=`translateX(${Math.max(-u,Math.min(0,I))}px)`}}else{const z=f==="aside"?0:-u,I=f==="aside"&&S>0||f==="main"&&S<0?S*.25:S;o.current.style.transform=`translateX(${z+I}px)`}}else if(M.type==="touchend"&&((E=x.current)!=null&&E.isDragging)){const S=x.current.currentX-x.current.startX,O=window.innerWidth*.25;if(Math.abs(S)>O&&(S>0&&f==="main"?C("aside"):S<0&&f==="aside"&&C("main")),o.current)if(e.mobileSidebarMode==="overlay"){const z=o.current.querySelector('[data-sidebar="aside"]');z&&(z.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",z.style.transform=f==="aside"?"translateX(0)":"translateX(-100%)",setTimeout(()=>{z&&(z.style.transition="")},300))}else{const z=f==="aside"?0:-u;o.current.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",o.current.style.transform=`translateX(${z}px)`,setTimeout(()=>{o.current&&(o.current.style.transition="")},300)}x.current=null}},[b,f,u,C]);return a.useEffect(()=>{const M=n.current;if(!M)return;const N=["touchstart","touchmove","touchend","touchcancel"];return N.forEach(E=>{M.addEventListener(E,g,{passive:E==="touchstart"})}),()=>{N.forEach(E=>{M.removeEventListener(E,g)})}},[g]),a.useEffect(()=>{if(!(!o.current||!b))if(e.mobileSidebarMode==="overlay"){const M=o.current.querySelector('[data-sidebar="aside"]');M&&M.setAttribute("data-active",f==="aside"?"true":"false")}else{const M=f==="aside"?0:-u;o.current.style.transform=`translateX(${M}px)`}},[f,b,u,e.mobileSidebarMode]),{resizerRef:r,containerRef:n,viewsContainerRef:o,isMobile:b,asideWidth:c,mobileSidebarWidth:u,currentMobileView:f,updateMobileView:C,config:e}},Ae="lytbaseE4I",Le="lytaside",ke="lytrsz",Pe="lytmain",De="lytmobile",Be="lytmobvie",Te="lytmobviepsf",He="lytovr",Ye="lytovrbdr",qe="lytsliout",Fe="lytslide-in",W={base:Ae,aside:Le,resizer:ke,main:Pe,mobile:De,mobileViewsContainer:Be,mobileView:Te,overlay:He,overlayBackdrop:Ye,slideOut:qe,slideIn:Fe},re=e=>{const{aside:t,children:s,minAsideWidth:r=120,maxAsideWidth:n=480,defaultMobileView:o="main",mobileBreakpoint:i=768,mobileSidebarMode:c="fullscreen",mobileOverlayMaxWidth:l=320,mobileOverlayDimBackground:v=!0,...R}=e,b={minAsideWidth:r,maxAsideWidth:n,asideId:e.asideId,mobileBreakpoint:i,mobileSidebarMode:c,mobileOverlayMaxWidth:l,mobileOverlayDimBackground:v,defaultMobileView:o},{resizerRef:y,containerRef:u,viewsContainerRef:h,isMobile:m,asideWidth:j,mobileSidebarWidth:x,currentMobileView:V,updateMobileView:f}=Oe(b,e.mobileView,e.onMobileViewChange),C=c==="overlay",w=`${W.base}${m?` ${W.mobile}`:""}${C?` ${W.overlay}`:""}`;return d.jsx("div",{className:w,ref:u,"data-sidebar-base":!0,style:m?{"--mobile-sidebar-width":`${x}px`}:void 0,children:m?d.jsxs(d.Fragment,{children:[C&&v&&d.jsx("div",{className:W.overlayBackdrop,"data-visible":V==="aside"?"true":"false",onClick:()=>f("main")}),d.jsxs("div",{className:W.mobileViewsContainer,ref:h,style:{viewTransitionName:"sidebar-layout"},children:[d.jsx("aside",{className:`${W.aside} ${W.mobileView}`,"data-sidebar":"aside","data-active":V==="aside"?"true":"false","aria-label":b.asideId,id:b.asideId,children:t}),d.jsx("main",{className:`${W.main} ${W.mobileView}`,children:s})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("aside",{className:W.aside,style:{width:j},"aria-label":b.asideId,id:b.asideId,children:t}),d.jsx("div",{className:W.resizer,ref:y,role:"separator","aria-orientation":"vertical",tabIndex:0,"aria-label":"resize",style:{left:j-4}}),d.jsx("main",{className:W.main,children:s})]})})};re.displayName="SidebarLayout";const _e="lytbasefvK",Ke="lythdr",Ue="lytmaina5F",q={base:_e,header:Ke,main:Ue},ie=({header:e,children:t})=>d.jsxs("div",{className:q.base,children:[d.jsx("header",{className:q.header,children:e}),d.jsx("div",{className:q.main,children:t})]});ie.displayName="HeaderMainLayout";const Ze="lytautsiz",Ge="lytbody",Q={autoSizer:Ze,body:Ge},ae=e=>{const t=p.useRef(null),[s]=se.useMeasure(t);return d.jsx("div",{ref:t,className:Q.autoSizer,children:d.jsx("div",{className:Q.body,children:s&&e.children(s)})})};ae.displayName="AutoSizer";const Je="lytbasebSr",Qe="lythdrTR2",et="lytmainzoo",tt="lytftr",st="lytctn",P={base:Je,header:Qe,main:et,footer:tt,content:st},oe=({header:e,children:t,footer:s})=>d.jsxs("div",{className:P.base,children:[e&&d.jsx("header",{className:P.header,children:e}),d.jsx("main",{className:P.main,children:t}),s&&d.jsx("footer",{className:P.footer,children:s})]}),nt=({children:e})=>d.jsx("div",{className:P.content,children:e});oe.Content=nt;const rt=({source:e,className:t})=>{const s=a.useRef(null);if(We(()=>{const r=s.current;if(r)return e instanceof HTMLVideoElement||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLObjectElement||e instanceof HTMLIFrameElement?(r.appendChild(e),()=>{r.contains(e)&&r.removeChild(e)}):()=>{}},[e]),typeof e=="string")return d.jsx("img",{src:e,className:t});if(typeof e=="object"&&"src"in e&&typeof e.src=="string"){const r="alt"in e&&typeof e.alt=="string"?e.alt:"";return d.jsx("img",{src:e.src,alt:r,className:t})}return d.jsx("div",{ref:s,className:t,children:a.isValidElement(e)?a.cloneElement(e,{}):d.jsx("div",{className:t,children:"Unsupported media type"})})},it=()=>{const[e,t]=a.useState(0);return a.useEffect(()=>{if(typeof window>"u")return;const s=()=>{t(window.scrollY)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),e},K=typeof window<"u"?a.useLayoutEffect:a.useEffect,F=new Map,at=e=>{var r,n,o;const t="ovs-";if(F.has(t))return F.get(t);const s=new(o=class{constructor(){k(this,r,new Map);k(this,n,new ResizeObserver((i,c)=>{i.forEach(l=>{const v=$(this,r).get(l.target);v&&v(l,c)})}))}observe(i,c){return $(this,r).set(i,c),$(this,n).observe(i),()=>{$(this,r).delete(i),$(this,n).unobserve(i)}}},r=new WeakMap,n=new WeakMap,o);return F.set(t,s),s};function H(e,{box:t}){const[s,r]=a.useState(null);a.useEffect(()=>e.current?at().observe(e.current,(i,c)=>{r(i)}):void 0,[t,e.current]);const n=a.useMemo(()=>{var o;if(s)if(((o=s.borderBoxSize)==null?void 0:o.length)>0){const i=s.borderBoxSize[0];return new DOMRect(0,0,i.inlineSize,i.blockSize)}else return s.contentRect},[s]);return{entry:s,rect:n}}const ot="lytbaseSh4",ct="lythdri1w",lt="lytcover",ut="lytbody7_6",B={base:ot,header:ct,cover:lt,body:ut},ce=({cover:e,children:t})=>{const s=p.useRef(null),r=p.useRef(null),n=it(),o=p.useRef(n);o.current=n;const i=p.useRef(void 0),{rect:c}=H(s,{});return Object.is(i.current,c)||(i.current=c),K(()=>{const l=s.current,v=r.current;if(!v||!l)return;let R=Number.NaN,b;const y=()=>{const h=i.current;if(!h)return;const m=h.height-o.current;m!==R&&(v.style.opacity="1",v.style.height=`${m}px`,R=m),(h.x>=0||h.y>=0||h.width>0)&&b!==h&&(v.style.left=`${h.x}px`,v.style.top=`${h.y}px`,v.style.width=`${h.width}px`,b=h)};let u=requestAnimationFrame(function h(){y(),u=requestAnimationFrame(h)});return()=>{cancelAnimationFrame(u)}},[]),d.jsxs("div",{className:B.base,children:[d.jsx("div",{className:B.cover,ref:r,children:d.jsx(rt,{source:e})}),d.jsx("div",{ref:s,className:B.header,children:d.jsx("div",{className:B.body,children:t})})]})};ce.displayName="StickyHeader";const dt="lytpage",ht="lytline",ft="lytghost",D={page:dt,line:ht,ghost:ft},mt=()=>{let e=0;const t=new Map;return s=>{if(s===void 0)return;if(t.has(s))return t.get(s);const r=e++;return t.set(s,r),r}},vt=mt(),_=new Map,bt=e=>{var r,n,o;const t=`ovs-threshold:${e.threshold}-rootMargin:${e.rootMargin}-root:${vt(e.root)}`;if(_.has(t))return _.get(t);const s=new(o=class{constructor(){k(this,r,new Map);k(this,n,new IntersectionObserver(i=>{i.forEach(c=>{const l=$(this,r).get(c.target);l&&l(c)})},e))}observe(i,c){return $(this,r).set(i,c),$(this,n).observe(i),()=>{$(this,r).delete(i),$(this,n).unobserve(i)}}},r=new WeakMap,n=new WeakMap,o);return _.set(t,s),s},ee=Object.freeze({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0});function le(e,{threshold:t=0,rootMargin:s="0px",root:r=null}){const[n,o]=a.useState(null);return a.useEffect(()=>e.current?bt({threshold:t,rootMargin:s,root:r}).observe(e.current,c=>{o({isIntersecting:c.isIntersecting,boundingClientRect:c.boundingClientRect,intersectionRatio:c.intersectionRatio,intersectionRect:c.intersectionRect,rootBounds:c.rootBounds,target:c.target,time:c.time})}):void 0,[t,s,r,e.current]),a.useMemo(()=>({isIntersecting:(n==null?void 0:n.isIntersecting)??!1,boundingClientRect:(n==null?void 0:n.boundingClientRect)??ee,intersectionRatio:(n==null?void 0:n.intersectionRatio)??0,intersectionRect:(n==null?void 0:n.intersectionRect)??ee,rootBounds:(n==null?void 0:n.rootBounds)??null,target:(n==null?void 0:n.target)??e.current,time:(n==null?void 0:n.time)??0}),[n])}const Y=p.createContext(new Proxy({},{get:()=>{throw new Error("Context not initialized")}}));Y.displayName="ParavirtualScrollContext";const ue=p.memo(({children:e,direction:t="vertical",chunkSize:s=1})=>{const[r,n]=p.useState(()=>({cache:new Map,offsets:[],totalSize:0})),o=p.useCallback((u,h)=>{n(m=>{if(m.cache.get(u)===h)return m;const x=new Map(m.cache);x.set(u,h);const V=[],f=Array.from(x.keys()).reduce((C,w)=>{const g=x.get(w)??0;return V[w]=C,C+=g,C},0);return{cache:x,offsets:V,totalSize:f}})},[]),i=p.useMemo(()=>{const u={position:"relative"};return t==="vertical"?u.minHeight=r.totalSize:(u.minWidth=r.totalSize,u.display="flex"),u},[r.totalSize,t]),c=p.useRef(null),[l,v]=p.useState(null);p.useEffect(()=>{if(!c.current)return;let u=c.current.parentElement;for(;u;){const h=window.getComputedStyle(u),m=h.overflow+h.overflowY+h.overflowX;if(m.includes("auto")||m.includes("scroll")){v(u);return}u=u.parentElement}v(null)},[]);const R=p.useMemo(()=>({dimensionCache:r.cache,offsets:r.offsets,updateDimension:o,scrollContainer:l,direction:t,chunkSize:s}),[r.cache,r.offsets,o,l,t,s]),b=p.useMemo(()=>p.Children.toArray(e),[e]),y=p.useMemo(()=>{if(s<=1)return b.map((h,m)=>({children:[h],chunkIndex:m}));const u=[];for(let h=0;h<b.length;h+=s)u.push({children:b.slice(h,h+s),chunkIndex:Math.floor(h/s)});return u},[b,s]);return d.jsx("div",{className:D.page,style:i,ref:c,children:d.jsx(Y.Provider,{value:R,children:y.map(u=>d.jsx(de,{chunkIndex:u.chunkIndex,children:u.children},u.chunkIndex))})})});ue.displayName="ParavirtualScroll";const de=p.memo(({children:e,chunkIndex:t})=>{const{dimensionCache:s,updateDimension:r,offsets:n,scrollContainer:o,direction:i,chunkSize:c}=p.useContext(Y),l=p.useRef(null),{isIntersecting:v}=le(l,{rootMargin:"100px",threshold:0,root:o}),R=H(l,{});K(()=>{if(!R.rect||!v)return;const m=i==="vertical"?R.rect.height:R.rect.width;r(t,m)},[R.rect,v,i,t,r]);const b=p.useMemo(()=>{if(v)return{};const m=s.get(t);return typeof m!="number"?{}:i==="vertical"?{height:m}:{width:m}},[s,v,t,i]),y=s.has(t),u=v||!y,h=p.useMemo(()=>{const m=n[t],j={opacity:y?1:0};return i==="vertical"?(j.top=m,j.width="100%"):(j.left=m,j.height="100%"),j},[y,t,n,i]);return d.jsx("div",{ref:l,style:h,className:D.line,children:u?d.jsx(d.Fragment,{children:c<=1?e[0]:e.map((m,j)=>d.jsx(p.Fragment,{children:m},j))}):d.jsx("div",{className:D.ghost,style:b})})});de.displayName="ParavirtualScrollChunk";const wt=p.memo(({children:e,index:t})=>{const{dimensionCache:s,updateDimension:r,offsets:n,scrollContainer:o,direction:i}=p.useContext(Y),c=p.useRef(null),{isIntersecting:l}=le(c,{rootMargin:"100px",threshold:0,root:o}),v=H(c,{});K(()=>{if(!v.rect||!l)return;const h=i==="vertical"?v.rect.height:v.rect.width;r(t,h)},[v.rect,l,i,t,r]);const R=p.useMemo(()=>{if(l)return{};const h=s.get(t);return typeof h!="number"?{}:i==="vertical"?{height:h}:{width:h}},[s,l,t,i]),b=s.has(t),y=l||!b,u=p.useMemo(()=>{const h=n[t],m={opacity:b?1:0};return i==="vertical"?(m.top=h,m.width="100%"):(m.left=h,m.height="100%"),m},[b,t,n,i]);return d.jsx("div",{ref:c,style:u,className:D.line,children:y?d.jsx(d.Fragment,{children:e}):d.jsx("div",{className:D.ghost,style:R})})});wt.displayName="ParavirtualScrollItem";const yt="lytcnt",pt="lytcontrols",Mt="lytviewscnt",St="lytview",T={container:yt,controls:pt,viewsContainer:Mt,view:St},he=a.memo(({items:e,defaultSelected:t=0,onViewChange:s,header:r,currentIndex:n,controlled:o=!1})=>{const[i,c]=a.useState(t),l=o&&n!==void 0?n:i,v=a.useRef(null),R=a.useRef(null),b=a.useRef(!1),y=a.useRef(null);a.useEffect(()=>{const f=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=f}},[]);const u=a.useCallback((f,C=!0)=>{if(!R.current||b.current)return;const w=R.current,g=-f*window.innerWidth;C?(b.current=!0,w.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",w.style.transform=`translateX(${g}px)`,setTimeout(()=>{b.current=!1,w&&(w.style.transition="")},300)):(w.style.transition="",w.style.transform=`translateX(${g}px)`)},[]);a.useEffect(()=>{u(l,!1)},[u,l]);const h=a.useCallback(f=>{o||c(f)},[o]),m=a.useCallback(f=>{if(b.current)return;const C=f.touches[0];y.current={startX:C.clientX,startY:C.clientY,currentX:C.clientX,isDragging:!1,direction:null}},[]),j=a.useCallback(f=>{if(!y.current||!R.current||b.current)return;const C=f.touches[0],w=C.clientX-y.current.startX,g=C.clientY-y.current.startY;if(y.current.currentX=C.clientX,!y.current.direction&&(Math.abs(w)>8||Math.abs(g)>8)&&(y.current.direction=Math.abs(w)>Math.abs(g)?"horizontal":"vertical",y.current.direction==="horizontal"&&(y.current.isDragging=!0)),y.current.direction==="horizontal"&&y.current.isDragging){f.preventDefault();const M=R.current,N=-l*window.innerWidth;let E=w;(l===0&&w>0||l===e.length-1&&w<0)&&(E=w*.25),M.style.transform=`translateX(${N+E}px)`}},[l,e.length]),x=a.useCallback(()=>{if(!y.current||!y.current.isDragging||b.current){y.current=null;return}const f=y.current.currentX-y.current.startX,C=window.innerWidth*.25;let w=l;Math.abs(f)>C&&(f>0&&l>0?w=l-1:f<0&&l<e.length-1&&(w=l+1)),h(w),u(w,!0),w!==l&&(s==null||s(w)),y.current=null},[l,e.length,u,s,h]);a.useEffect(()=>{const f=v.current;if(f)return f.addEventListener("touchstart",m,{passive:!0}),f.addEventListener("touchmove",j,{passive:!1}),f.addEventListener("touchend",x,{passive:!0}),f.addEventListener("touchcancel",x,{passive:!0}),()=>{f.removeEventListener("touchstart",m),f.removeEventListener("touchmove",j),f.removeEventListener("touchend",x),f.removeEventListener("touchcancel",x)}},[m,j,x]);const V=a.useMemo(()=>e.map((f,C)=>{const w=f.component,g=C===l,M=Math.abs(C-l)<=1;return d.jsx("div",{className:T.view,"aria-hidden":!g,children:M&&w?d.jsx(w,{}):null},f.key||C)}),[e,l]);return d.jsxs("div",{ref:v,className:T.container,children:[r&&d.jsx("div",{className:T.controls,children:r}),d.jsx("div",{ref:R,className:T.viewsContainer,children:V})]})});he.displayName="ViewSwitcher";const xt=e=>{const[t,s]=a.useState(()=>typeof window<"u"?window.innerWidth<e:!1);return a.useEffect(()=>{const r=()=>{s(window.innerWidth<e)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[e]),t},Ct=e=>{const[t,s]=a.useState(e.defaultView),r=e.controlled!==void 0,n=r?e.controlled??e.defaultView:t,o=a.useCallback(i=>{var l;const c=e.hasMenu?-1:0;i<c||i>=e.viewCount||i!==n&&(r||s(i),(l=e.onChange)==null||l.call(e,i))},[r,n,e]);return{activeViewIndex:n,setActiveViewIndex:o}},Rt=e=>{const t=a.useRef(null),s=a.useRef(!1),r=a.useCallback((n,o=!0)=>{if(!t.current)return;let i;if(e.dynamicSizing&&e.getViewOffset&&!e.isMobile)i=e.getViewOffset(n);else{const c=e.getViewWidth(),l=e.isMobile&&e.hasMenu?1:0;i=n===-1?0:(n+l)*c}s.current=!0,t.current.scrollTo({left:i,behavior:"auto"}),setTimeout(()=>{s.current=!1},100)},[e.dynamicSizing,e.getViewOffset,e.isMobile,e.hasMenu,e.getViewWidth]);return a.useEffect(()=>{t.current&&r(e.activeIndex,!1)},[e.activeIndex,r]),a.useEffect(()=>{const n=t.current;if(!n)return;const o=()=>{if(!s.current&&e.isMobile&&e.hasMenu&&e.onMenuProgress){const i=n.scrollLeft;e.getViewWidth();const c=Math.min(window.innerWidth*.8,320);if(i<c){const l=Math.max(0,(c-i)/c);e.onMenuProgress(l)}else e.onMenuProgress(0)}};return n.addEventListener("scroll",o,{passive:!0}),()=>{n.removeEventListener("scroll",o)}},[e]),{scrollContainerRef:t,scrollToIndex:r}},jt=e=>{const t=a.useRef(null),[s,r]=p.useState(0),n=xt(e.desktopBreakpoint),{activeViewIndex:o,setActiveViewIndex:i}=Ct({viewCount:e.viewCount,controlled:e.controlledActiveView,defaultView:e.defaultView,onChange:e.onViewChange,hasMenu:e.hasMenu}),c=a.useCallback(u=>n?window.innerWidth:e.defaultViewWidth,[n,e.defaultViewWidth]),{scrollContainerRef:l}=Rt({activeIndex:o,viewCount:e.viewCount,isMobile:n,hasMenu:e.hasMenu,onIndexChange:i,getViewWidth:c,dynamicSizing:e.dynamicSizing,onMenuProgress:r}),v=a.useRef(null),R=a.useCallback(u=>{i(u)},[i]),b=a.useCallback(u=>{},[]),y=a.useCallback(u=>{},[]);return{containerRef:t,scrollContainerRef:l,menuRef:v,isMobile:n,activeViewIndex:o,setActiveViewIndex:R,menuProgress:s,handleTouchStart:b,handleTouchEnd:y}},Vt="cmpinds",Nt="cmpind",te={indicators:Vt,indicator:Nt},U=a.memo(({count:e,activeIndex:t,onIndexChange:s})=>{if(e<=1)return null;const r=a.useMemo(()=>Array.from({length:e},(n,o)=>d.jsx("button",{className:te.indicator,"data-active":o===t,onClick:()=>s(o),"aria-label":`View ${o+1}`,"aria-current":o===t?"true":"false",type:"button"},o)),[e,t,s]);return d.jsx("nav",{className:te.indicators,role:"tablist","aria-label":"Navigation indicators",children:r})});U.displayName="SwipeIndicators";const gt=e=>{const[t,s]=a.useState(()=>({cache:new Map,offsets:[],totalWidth:0})),r=a.useCallback((c,l)=>{!e.dynamicSizing||e.isMobile||s(v=>{if(v.cache.get(c)===l)return v;const b=new Map(v.cache);b.set(c,l);const y=[];let u=0;for(let h=0;h<e.viewCount;h++){y[h]=u;const m=b.get(h)??e.defaultViewWidth??400;u+=m}return{cache:b,offsets:y,totalWidth:u}})},[e.dynamicSizing,e.isMobile,e.viewCount,e.defaultViewWidth]),n=a.useCallback(c=>e.isMobile?window.innerWidth:!e.dynamicSizing||e.viewCount===1?e.defaultViewWidth??400:t.cache.get(c)??e.defaultViewWidth??400,[e.isMobile,e.dynamicSizing,e.viewCount,e.defaultViewWidth,t.cache]),o=a.useCallback(c=>{if(e.isMobile){const l=e.hasMenu?1:0;return(c+l)*window.innerWidth}return!e.dynamicSizing||e.viewCount===1?c*(e.defaultViewWidth??400):t.offsets[c]??0},[e.isMobile,e.hasMenu,e.dynamicSizing,e.viewCount,e.defaultViewWidth,t.offsets]),i=a.useMemo(()=>{if(e.isMobile){const c=e.hasMenu?1:0;return(e.viewCount+c)*window.innerWidth}return!e.dynamicSizing||e.viewCount===1?e.viewCount*(e.defaultViewWidth??400):t.totalWidth},[e.isMobile,e.hasMenu,e.viewCount,e.dynamicSizing,e.defaultViewWidth,t.totalWidth]);return{updateViewDimension:r,getViewWidth:n,getViewOffset:o,containerWidth:i,dimensionCache:t.cache}},Et=(e,t,s=!0)=>{const r=p.useRef(null),{rect:n}=H(r,{box:"border-box"}),o=p.useRef(0);return p.useEffect(()=>{if(!s||!n)return;const i=n.width;i>0&&Math.abs(i-o.current)>1&&(o.current=i,t(e,i))},[n,e,t,s]),{measureRef:r}},zt="lytcntFwi",Wt="lytscr",$t="lytmobileZxa",It="lytviewoAY",Xt="lytmenuView",Ot="lytmenuact",At="lytsinvie",Lt="lytdynsiz",kt="lytmenu",X={container:zt,scrollContainer:Wt,mobile:$t,view:It,menuView:Xt,menuActive:Ot,singleView:At,dynamicSizing:Lt,menu:kt},fe=({children:e,menu:t,menuWidth:s=280,menuVisible:r=!0,activeView:n,defaultView:o=0,onViewChange:i,swipeEnabled:c=!0,edgeSwipeWidth:l=20,swipeThreshold:v=.25,swipeVelocityThreshold:R=.5,desktopBreakpoint:b=768,className:y,viewClassName:u,menuClassName:h,transitionDuration:m=150,transitionTimingFunction:j="cubic-bezier(0.25, 0.46, 0.45, 0.94)",showIndicators:x=!1,dynamicSizing:V=!1,defaultViewWidth:f=400})=>{const C=p.Children.toArray(e),w=C.length,g=p.useMemo(()=>({viewCount:w,hasMenu:!!t,menuWidth:s,menuVisible:r,swipeEnabled:c,edgeSwipeWidth:l,swipeThreshold:v,swipeVelocityThreshold:R,desktopBreakpoint:b,controlledActiveView:n,defaultView:o,onViewChange:i,transitionDuration:m,transitionTimingFunction:j,dynamicSizing:V,defaultViewWidth:f}),[w,t,s,r,c,l,v,R,b,n,o,i,m,j,V,f]),{containerRef:M,scrollContainerRef:N,menuRef:E,isMobile:S,activeViewIndex:O,setActiveViewIndex:z,menuProgress:I,handleTouchStart:me,handleTouchEnd:ve}=jt(g),{updateViewDimension:be,getViewWidth:we,getViewOffset:ye,containerWidth:Z,dimensionCache:pe}=gt({viewCount:w,isMobile:S,hasMenu:!!t,menuWidth:s,defaultViewWidth:f,dynamicSizing:V}),G=p.useMemo(()=>typeof s=="number"?`${s}px`:s,[s]),Me=p.useMemo(()=>[X.container,S&&X.mobile,!S&&w===1&&X.singleView,!S&&V&&X.dynamicSizing,S&&t&&I>.1&&X.menuActive,y].filter(Boolean).join(" "),[S,w,V,t,I,y]),Se=p.useMemo(()=>[X.menu,h].filter(Boolean).join(" "),[h]),xe=p.useMemo(()=>({"--menu-width":G,"--transition-duration":`${m}ms`,"--transition-timing":j,"--view-count":w,"--container-width":V&&!S?`${Z}px`:void 0,"--menu-progress":I}),[G,m,j,w,Z,V,S,I]);return d.jsxs("div",{ref:M,className:Me,style:xe,children:[t&&!S&&r&&d.jsx("div",{ref:E,className:Se,"data-menu":"desktop",children:t}),d.jsxs("div",{ref:N,className:X.scrollContainer,onTouchStart:c&&S?me:void 0,onTouchEnd:c&&S?ve:void 0,children:[t&&S&&d.jsx("div",{className:[X.view,X.menuView,u].filter(Boolean).join(" "),"data-view":"menu",style:{width:"min(80vw, 320px)",flexShrink:0},children:t}),C.map((Ce,A)=>{const{measureRef:Re}=Et(A,be,V&&!S&&w>1),L={},je=pe.has(A);if(V&&!S&&w>1&&je){const Ve=we(A),Ne=ye(A);L.width=Ve,L.transform=`translateX(${Ne}px)`,L.position="absolute",L.left=0}return d.jsx("div",{ref:Re,className:[X.view,u].filter(Boolean).join(" "),"data-view":A,"data-active":A===O,style:L,children:Ce},A)})]}),x&&d.jsx(U,{count:w,activeIndex:Math.max(0,O??0),onIndexChange:z})]})};fe.displayName="SwipeNavigation";exports.AppLayout=oe;exports.AutoSizer=ae;exports.HeaderMainLayout=ie;exports.ParavirtualScroll=ue;exports.ScrollView=ne;exports.SidebarLayout=re;exports.StickyHeader=ce;exports.SwipeIndicators=U;exports.SwipeNavigation=fe;exports.ViewSwitcher=he;
