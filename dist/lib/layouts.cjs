"use strict";var q=e=>{throw TypeError(e)};var ae=(e,r,t)=>r.has(e)||q("Cannot "+t);var I=(e,r,t)=>(ae(e,r,"read from private field"),t?t.call(e):r.get(e)),O=(e,r,t)=>r.has(e)?q("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),i=require("react"),U=require("./vendor/useMeasure-C21c-kl-.js");function oe(e){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:()=>e[t]})}}return r.default=e,Object.freeze(r)}const S=oe(i);var ce=typeof window<"u",le=ce?i.useLayoutEffect:i.useEffect;const ue="lytbase",de={base:ue},G=e=>a.jsx("div",{className:de.base,children:e.children});G.displayName="ScrollView";const fe=(e,r)=>{const[t,n]=i.useState(r);return i.useEffect(()=>{if(!e||typeof window>"u")return;const s=window.localStorage.getItem(e);if(s){const d=Number(s);isNaN(d)||n(Math.min(Math.max(d,120),480))}},[e]),i.useEffect(()=>{!e||typeof window>"u"||window.localStorage.setItem(e,String(t))},[t,e]),[t,n]},he=(e,r,t)=>{const n=i.useRef(null),s=i.useRef(null),d=i.useRef(null),u=e.asideId?`SidebarLayout:width:${e.asideId}`:void 0,[m,f]=fe(u,240),b=i.useRef(!1),M=i.useRef(null),[v,y]=i.useState(!1),[c,l]=i.useState(0),[h,j]=i.useState(e.defaultMobileView),g=i.useRef(null),z=r!==void 0,o=z?r:h,x=i.useCallback(w=>{z||j(w),t==null||t(w)},[z,t]);i.useEffect(()=>{const w=()=>{const R=window.innerWidth;y(R<e.mobileBreakpoint),e.mobileSidebarMode==="overlay"?l(Math.min(e.mobileOverlayMaxWidth,R)):l(R)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[e.mobileBreakpoint,e.mobileSidebarMode,e.mobileOverlayMaxWidth]);const p=i.useCallback(w=>{var R;if(w.type==="pointerdown")b.current=!0,M.current=((R=document.querySelector("[data-sidebar-base]"))==null?void 0:R.getBoundingClientRect())??null;else if(w.type==="pointermove"&&b.current&&M.current){const N=Math.min(Math.max(w.pageX-M.current.left,e.minAsideWidth),e.maxAsideWidth);f(N)}else w.type==="pointerend"&&(b.current=!1,M.current=null)},[e.minAsideWidth,e.maxAsideWidth]);U.useObservePointer(n,p);const C=i.useCallback(w=>{var N;if(!v)return;const R=w.touches[0];if(w.type==="touchstart")g.current={startX:R.clientX,startY:R.clientY,currentX:R.clientX,isDragging:!1,direction:null};else if(w.type==="touchmove"&&g.current){const E=R.clientX-g.current.startX,W=R.clientY-g.current.startY;if(g.current.currentX=R.clientX,!g.current.direction&&(Math.abs(E)>8||Math.abs(W)>8)&&(g.current.direction=Math.abs(E)>Math.abs(W)?"horizontal":"vertical",g.current.direction==="horizontal"&&(g.current.isDragging=!0)),g.current.direction==="horizontal"&&g.current.isDragging&&d.current)if(w.preventDefault(),e.mobileSidebarMode==="overlay"){const X=d.current.querySelector('[data-sidebar="aside"]');if(X){let L=o==="aside"?E:-c+E;(o==="aside"&&E<0||o==="main"&&E>0)&&(o==="main"&&E<c?L=-c+E:L=E*.25),X.style.transform=`translateX(${Math.max(-c,Math.min(0,L))}px)`}}else{const X=o==="aside"?0:-c,L=o==="aside"&&E>0||o==="main"&&E<0?E*.25:E;d.current.style.transform=`translateX(${X+L}px)`}}else if(w.type==="touchend"&&((N=g.current)!=null&&N.isDragging)){const E=g.current.currentX-g.current.startX,W=window.innerWidth*.25;if(Math.abs(E)>W&&(E>0&&o==="main"?x("aside"):E<0&&o==="aside"&&x("main")),d.current)if(e.mobileSidebarMode==="overlay"){const X=d.current.querySelector('[data-sidebar="aside"]');X&&(X.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",X.style.transform=o==="aside"?"translateX(0)":"translateX(-100%)",setTimeout(()=>{X&&(X.style.transition="")},300))}else{const X=o==="aside"?0:-c;d.current.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",d.current.style.transform=`translateX(${X}px)`,setTimeout(()=>{d.current&&(d.current.style.transition="")},300)}g.current=null}},[v,o,c,x]);return i.useEffect(()=>{const w=s.current;if(!w)return;const R=["touchstart","touchmove","touchend","touchcancel"];return R.forEach(N=>{w.addEventListener(N,C,{passive:N==="touchstart"})}),()=>{R.forEach(N=>{w.removeEventListener(N,C)})}},[C]),i.useEffect(()=>{if(!(!d.current||!v))if(e.mobileSidebarMode==="overlay"){const w=d.current.querySelector('[data-sidebar="aside"]');w&&w.setAttribute("data-active",o==="aside"?"true":"false")}else{const w=o==="aside"?0:-c;d.current.style.transform=`translateX(${w}px)`}},[o,v,c,e.mobileSidebarMode]),{resizerRef:n,containerRef:s,viewsContainerRef:d,isMobile:v,asideWidth:m,mobileSidebarWidth:c,currentMobileView:o,updateMobileView:x,config:e}},me="lytbaseE4I",be="lytaside",ve="lytrsz",ye="lytmain",pe="lytmobile",we="lytmobvie",ge="lytmobviepsf",Se="lytovr",xe="lytovrbdr",Me="lytsliout",Re="lytslide-in",$={base:me,aside:be,resizer:ve,main:ye,mobile:pe,mobileViewsContainer:we,mobileView:ge,overlay:Se,overlayBackdrop:xe,slideOut:Me,slideIn:Re},J=e=>{const{aside:r,children:t,minAsideWidth:n=120,maxAsideWidth:s=480,defaultMobileView:d="main",mobileBreakpoint:u=768,mobileSidebarMode:m="fullscreen",mobileOverlayMaxWidth:f=320,mobileOverlayDimBackground:b=!0,...M}=e,v={minAsideWidth:n,maxAsideWidth:s,asideId:e.asideId,mobileBreakpoint:u,mobileSidebarMode:m,mobileOverlayMaxWidth:f,mobileOverlayDimBackground:b,defaultMobileView:d},{resizerRef:y,containerRef:c,viewsContainerRef:l,isMobile:h,asideWidth:j,mobileSidebarWidth:g,currentMobileView:z,updateMobileView:o}=he(v,e.mobileView,e.onMobileViewChange),x=m==="overlay",p=`${$.base}${h?` ${$.mobile}`:""}${x?` ${$.overlay}`:""}`;return a.jsx("div",{className:p,ref:c,"data-sidebar-base":!0,style:h?{"--mobile-sidebar-width":`${g}px`}:void 0,children:h?a.jsxs(a.Fragment,{children:[x&&b&&a.jsx("div",{className:$.overlayBackdrop,"data-visible":z==="aside"?"true":"false",onClick:()=>o("main")}),a.jsxs("div",{className:$.mobileViewsContainer,ref:l,style:{viewTransitionName:"sidebar-layout"},children:[a.jsx("aside",{className:`${$.aside} ${$.mobileView}`,"data-sidebar":"aside","data-active":z==="aside"?"true":"false","aria-label":v.asideId,id:v.asideId,children:r}),a.jsx("main",{className:`${$.main} ${$.mobileView}`,children:t})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("aside",{className:$.aside,style:{width:j},"aria-label":v.asideId,id:v.asideId,children:r}),a.jsx("div",{className:$.resizer,ref:y,role:"separator","aria-orientation":"vertical",tabIndex:0,"aria-label":"resize",style:{left:j-4}}),a.jsx("main",{className:$.main,children:t})]})})};J.displayName="SidebarLayout";const je="lytbasefvK",Ee="lythdr",Ce="lytmaina5F",T={base:je,header:Ee,main:Ce},Q=({header:e,children:r})=>a.jsxs("div",{className:T.base,children:[a.jsx("header",{className:T.header,children:e}),a.jsx("div",{className:T.main,children:r})]});Q.displayName="HeaderMainLayout";const Ne="lytautsiz",Xe="lytbody",K={autoSizer:Ne,body:Xe},Z=e=>{const r=S.useRef(null),[t]=U.useMeasure(r);return a.jsx("div",{ref:r,className:K.autoSizer,children:a.jsx("div",{className:K.body,children:t&&e.children(t)})})};Z.displayName="AutoSizer";const $e="lytbasebSr",ze="lythdrTR2",Ie="lytmainzoo",Le="lytftr",Oe="lytctn",A={base:$e,header:ze,main:Ie,footer:Le,content:Oe},ee=({header:e,children:r,footer:t})=>a.jsxs("div",{className:A.base,children:[e&&a.jsx("header",{className:A.header,children:e}),a.jsx("main",{className:A.main,children:r}),t&&a.jsx("footer",{className:A.footer,children:t})]}),Ae=({children:e})=>a.jsx("div",{className:A.content,children:e});ee.Content=Ae;const De=({source:e,className:r})=>{const t=i.useRef(null);if(le(()=>{const n=t.current;if(n)return e instanceof HTMLVideoElement||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLObjectElement||e instanceof HTMLIFrameElement?(n.appendChild(e),()=>{n.contains(e)&&n.removeChild(e)}):()=>{}},[e]),typeof e=="string")return a.jsx("img",{src:e,className:r});if(typeof e=="object"&&"src"in e&&typeof e.src=="string"){const n="alt"in e&&typeof e.alt=="string"?e.alt:"";return a.jsx("img",{src:e.src,alt:n,className:r})}return a.jsx("div",{ref:t,className:r,children:i.isValidElement(e)?i.cloneElement(e,{}):a.jsx("div",{className:r,children:"Unsupported media type"})})},We=()=>{const[e,r]=i.useState(0);return i.useEffect(()=>{if(typeof window>"u")return;const t=()=>{r(window.scrollY)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),e},Y=typeof window<"u"?i.useLayoutEffect:i.useEffect,V=new Map,ke=e=>{var n,s,d;const r="ovs-";if(V.has(r))return V.get(r);const t=new(d=class{constructor(){O(this,n,new Map);O(this,s,new ResizeObserver((u,m)=>{u.forEach(f=>{const b=I(this,n).get(f.target);b&&b(f,m)})}))}observe(u,m){return I(this,n).set(u,m),I(this,s).observe(u),()=>{I(this,n).delete(u),I(this,s).unobserve(u)}}},n=new WeakMap,s=new WeakMap,d);return V.set(r,t),t};function F(e,{box:r}){const[t,n]=i.useState(null);i.useEffect(()=>e.current?ke().observe(e.current,(u,m)=>{n(u)}):void 0,[r,e.current]);const s=i.useMemo(()=>{var d;if(t)if(((d=t.borderBoxSize)==null?void 0:d.length)>0){const u=t.borderBoxSize[0];return new DOMRect(0,0,u.inlineSize,u.blockSize)}else return t.contentRect},[t]);return{entry:t,rect:s}}const Be="lytbaseSh4",Pe="lythdri1w",Te="lytcover",Ve="lytbody7_6",k={base:Be,header:Pe,cover:Te,body:Ve},te=({cover:e,children:r})=>{const t=S.useRef(null),n=S.useRef(null),s=We(),d=S.useRef(s);d.current=s;const u=S.useRef(void 0),{rect:m}=F(t,{});return Object.is(u.current,m)||(u.current=m),Y(()=>{const f=t.current,b=n.current;if(!b||!f)return;let M=Number.NaN,v;const y=()=>{const l=u.current;if(!l)return;const h=l.height-d.current;h!==M&&(b.style.opacity="1",b.style.height=`${h}px`,M=h),(l.x>=0||l.y>=0||l.width>0)&&v!==l&&(b.style.left=`${l.x}px`,b.style.top=`${l.y}px`,b.style.width=`${l.width}px`,v=l)};let c=requestAnimationFrame(function l(){y(),c=requestAnimationFrame(l)});return()=>{cancelAnimationFrame(c)}},[]),a.jsxs("div",{className:k.base,children:[a.jsx("div",{className:k.cover,ref:n,children:a.jsx(De,{source:e})}),a.jsx("div",{ref:t,className:k.header,children:a.jsx("div",{className:k.body,children:r})})]})};te.displayName="StickyHeader";const He="lytpage",Ye="lytline",Fe="lytghost",D={page:He,line:Ye,ghost:Fe},qe=()=>{let e=0;const r=new Map;return t=>{if(t===void 0)return;if(r.has(t))return r.get(t);const n=e++;return r.set(t,n),n}},Ke=qe(),H=new Map,_e=e=>{var n,s,d;const r=`ovs-threshold:${e.threshold}-rootMargin:${e.rootMargin}-root:${Ke(e.root)}`;if(H.has(r))return H.get(r);const t=new(d=class{constructor(){O(this,n,new Map);O(this,s,new IntersectionObserver(u=>{u.forEach(m=>{const f=I(this,n).get(m.target);f&&f(m)})},e))}observe(u,m){return I(this,n).set(u,m),I(this,s).observe(u),()=>{I(this,n).delete(u),I(this,s).unobserve(u)}}},n=new WeakMap,s=new WeakMap,d);return H.set(r,t),t},_=Object.freeze({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0});function re(e,{threshold:r=0,rootMargin:t="0px",root:n=null}){const[s,d]=i.useState(null);return i.useEffect(()=>e.current?_e({threshold:r,rootMargin:t,root:n}).observe(e.current,m=>{d({isIntersecting:m.isIntersecting,boundingClientRect:m.boundingClientRect,intersectionRatio:m.intersectionRatio,intersectionRect:m.intersectionRect,rootBounds:m.rootBounds,target:m.target,time:m.time})}):void 0,[r,t,n,e.current]),i.useMemo(()=>({isIntersecting:(s==null?void 0:s.isIntersecting)??!1,boundingClientRect:(s==null?void 0:s.boundingClientRect)??_,intersectionRatio:(s==null?void 0:s.intersectionRatio)??0,intersectionRect:(s==null?void 0:s.intersectionRect)??_,rootBounds:(s==null?void 0:s.rootBounds)??null,target:(s==null?void 0:s.target)??e.current,time:(s==null?void 0:s.time)??0}),[s])}const P=S.createContext(new Proxy({},{get:()=>{throw new Error("Context not initialized")}}));P.displayName="ParavirtualScrollContext";const ne=S.memo(({children:e,direction:r="vertical",chunkSize:t=1})=>{const[n,s]=S.useState(()=>({cache:new Map,offsets:[],totalSize:0})),d=S.useCallback((c,l)=>{s(h=>{if(h.cache.get(c)===l)return h;const g=new Map(h.cache);g.set(c,l);const z=[],o=Array.from(g.keys()).reduce((x,p)=>{const C=g.get(p)??0;return z[p]=x,x+=C,x},0);return{cache:g,offsets:z,totalSize:o}})},[]),u=S.useMemo(()=>{const c={position:"relative"};return r==="vertical"?c.minHeight=n.totalSize:(c.minWidth=n.totalSize,c.display="flex"),c},[n.totalSize,r]),m=S.useRef(null),[f,b]=S.useState(null);S.useEffect(()=>{if(!m.current)return;let c=m.current.parentElement;for(;c;){const l=window.getComputedStyle(c),h=l.overflow+l.overflowY+l.overflowX;if(h.includes("auto")||h.includes("scroll")){b(c);return}c=c.parentElement}b(null)},[]);const M=S.useMemo(()=>({dimensionCache:n.cache,offsets:n.offsets,updateDimension:d,scrollContainer:f,direction:r,chunkSize:t}),[n.cache,n.offsets,d,f,r,t]),v=S.useMemo(()=>S.Children.toArray(e),[e]),y=S.useMemo(()=>{if(t<=1)return v.map((l,h)=>({children:[l],chunkIndex:h}));const c=[];for(let l=0;l<v.length;l+=t)c.push({children:v.slice(l,l+t),chunkIndex:Math.floor(l/t)});return c},[v,t]);return a.jsx("div",{className:D.page,style:u,ref:m,children:a.jsx(P.Provider,{value:M,children:y.map(c=>a.jsx(se,{chunkIndex:c.chunkIndex,children:c.children},c.chunkIndex))})})});ne.displayName="ParavirtualScroll";const se=S.memo(({children:e,chunkIndex:r})=>{const{dimensionCache:t,updateDimension:n,offsets:s,scrollContainer:d,direction:u,chunkSize:m}=S.useContext(P),f=S.useRef(null),{isIntersecting:b}=re(f,{rootMargin:"100px",threshold:0,root:d}),M=F(f,{});Y(()=>{if(!M.rect||!b)return;const h=u==="vertical"?M.rect.height:M.rect.width;n(r,h)},[M.rect,b,u,r,n]);const v=S.useMemo(()=>{if(b)return{};const h=t.get(r);return typeof h!="number"?{}:u==="vertical"?{height:h}:{width:h}},[t,b,r,u]),y=t.has(r),c=b||!y,l=S.useMemo(()=>{const h=s[r],j={opacity:y?1:0};return u==="vertical"?(j.top=h,j.width="100%"):(j.left=h,j.height="100%"),j},[y,r,s,u]);return a.jsx("div",{ref:f,style:l,className:D.line,children:c?a.jsx(a.Fragment,{children:m<=1?e[0]:e.map((h,j)=>a.jsx(S.Fragment,{children:h},j))}):a.jsx("div",{className:D.ghost,style:v})})});se.displayName="ParavirtualScrollChunk";const Ue=S.memo(({children:e,index:r})=>{const{dimensionCache:t,updateDimension:n,offsets:s,scrollContainer:d,direction:u}=S.useContext(P),m=S.useRef(null),{isIntersecting:f}=re(m,{rootMargin:"100px",threshold:0,root:d}),b=F(m,{});Y(()=>{if(!b.rect||!f)return;const l=u==="vertical"?b.rect.height:b.rect.width;n(r,l)},[b.rect,f,u,r,n]);const M=S.useMemo(()=>{if(f)return{};const l=t.get(r);return typeof l!="number"?{}:u==="vertical"?{height:l}:{width:l}},[t,f,r,u]),v=t.has(r),y=f||!v,c=S.useMemo(()=>{const l=s[r],h={opacity:v?1:0};return u==="vertical"?(h.top=l,h.width="100%"):(h.left=l,h.height="100%"),h},[v,r,s,u]);return a.jsx("div",{ref:m,style:c,className:D.line,children:y?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:D.ghost,style:M})})});Ue.displayName="ParavirtualScrollItem";const Ge="lytcnt",Je="lytcontrols",Qe="lytviewscnt",Ze="lytview",B={container:Ge,controls:Je,viewsContainer:Qe,view:Ze},ie=i.memo(({items:e,defaultSelected:r=0,onViewChange:t,header:n,currentIndex:s,controlled:d=!1})=>{const[u,m]=i.useState(r),f=d&&s!==void 0?s:u,b=i.useRef(null),M=i.useRef(null),v=i.useRef(!1),y=i.useRef(null);i.useEffect(()=>{const o=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=o}},[]);const c=i.useCallback((o,x=!0)=>{if(!M.current||v.current)return;const p=M.current,C=-o*window.innerWidth;x?(v.current=!0,p.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",p.style.transform=`translateX(${C}px)`,setTimeout(()=>{v.current=!1,p&&(p.style.transition="")},300)):(p.style.transition="",p.style.transform=`translateX(${C}px)`)},[]);i.useEffect(()=>{c(f,!1)},[c,f]);const l=i.useCallback(o=>{d||m(o)},[d]),h=i.useCallback(o=>{if(v.current)return;const x=o.touches[0];y.current={startX:x.clientX,startY:x.clientY,currentX:x.clientX,isDragging:!1,direction:null}},[]),j=i.useCallback(o=>{if(!y.current||!M.current||v.current)return;const x=o.touches[0],p=x.clientX-y.current.startX,C=x.clientY-y.current.startY;if(y.current.currentX=x.clientX,!y.current.direction&&(Math.abs(p)>8||Math.abs(C)>8)&&(y.current.direction=Math.abs(p)>Math.abs(C)?"horizontal":"vertical",y.current.direction==="horizontal"&&(y.current.isDragging=!0)),y.current.direction==="horizontal"&&y.current.isDragging){o.preventDefault();const w=M.current,R=-f*window.innerWidth;let N=p;(f===0&&p>0||f===e.length-1&&p<0)&&(N=p*.25),w.style.transform=`translateX(${R+N}px)`}},[f,e.length]),g=i.useCallback(()=>{if(!y.current||!y.current.isDragging||v.current){y.current=null;return}const o=y.current.currentX-y.current.startX,x=window.innerWidth*.25;let p=f;Math.abs(o)>x&&(o>0&&f>0?p=f-1:o<0&&f<e.length-1&&(p=f+1)),l(p),c(p,!0),p!==f&&(t==null||t(p)),y.current=null},[f,e.length,c,t,l]);i.useEffect(()=>{const o=b.current;if(o)return o.addEventListener("touchstart",h,{passive:!0}),o.addEventListener("touchmove",j,{passive:!1}),o.addEventListener("touchend",g,{passive:!0}),o.addEventListener("touchcancel",g,{passive:!0}),()=>{o.removeEventListener("touchstart",h),o.removeEventListener("touchmove",j),o.removeEventListener("touchend",g),o.removeEventListener("touchcancel",g)}},[h,j,g]);const z=i.useMemo(()=>e.map((o,x)=>{const p=o.component,C=x===f,w=Math.abs(x-f)<=1;return a.jsx("div",{className:B.view,"aria-hidden":!C,children:w&&p?a.jsx(p,{}):null},o.key||x)}),[e,f]);return a.jsxs("div",{ref:b,className:B.container,children:[n&&a.jsx("div",{className:B.controls,children:n}),a.jsx("div",{ref:M,className:B.viewsContainer,children:z})]})});ie.displayName="ViewSwitcher";exports.AppLayout=ee;exports.AutoSizer=Z;exports.HeaderMainLayout=Q;exports.ParavirtualScroll=ne;exports.ScrollView=G;exports.SidebarLayout=J;exports.StickyHeader=te;exports.ViewSwitcher=ie;
